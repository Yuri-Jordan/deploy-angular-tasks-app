import{$ as k,$a as it,A as m,Aa as Ct,Ab as Be,B as Ot,Ba as Kt,Bb as Fe,C as _,Ca as Yt,D as g,Da as te,Db as Re,E as kt,Ea as ee,Eb as Le,F,Fa as ae,G as Pt,Ga as ie,H as X,Ha as ne,I as p,Ia as re,J as Nt,Ja as oe,K as d,Ka as se,L as jt,La as me,M as Vt,Ma as le,N as s,Na as ce,O as o,Oa as de,P as h,Pa as pe,Q as b,Qa as ue,R as v,Ra as tt,S as R,Sa as St,T as C,Ta as fe,U as E,Ua as he,V as L,Va as xt,W as O,Wa as _e,X as P,Xa as ge,Y as q,Ya as et,Z as l,Za as T,_ as y,_a as at,a as I,aa as G,ab as nt,ba as bt,bb as M,c as x,ca as N,cb as rt,da as j,db as ot,ea as vt,eb as st,f as wt,fa as zt,fb as ke,ga as Ht,gb as be,ha as $t,hb as D,i as Et,ia as K,j as ht,ja as qt,jb as ve,k as Mt,kb as mt,lb as lt,m as It,mb as Ce,n as W,nb as Se,o as _t,ob as xe,p as gt,pa as Gt,pb as ye,q as At,qb as Te,r as u,ra as Qt,rb as De,s as A,sb as we,t as B,ta as Ut,tb as Ee,u as Z,ua as Wt,ub as Me,v as Bt,vb as ct,w as J,wa as Zt,wb as dt,x as Ft,xa as Y,y as Rt,ya as Jt,yb as Ie,z as Lt,za as Xt,zb as Ae}from"./chunk-HFN4U65Q.js";var pt=class a{constructor(n,t){this.dialogRef=n;this.data=t}static \u0275fac=function(t){return new(t||a)(_(Se),_(xe))};static \u0275cmp=g({type:a,selectors:[["app-delete-dialog"]],standalone:!1,decls:9,vars:5,consts:[["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){t&1&&(s(0,"h2",0),l(1),o(),s(2,"mat-dialog-content"),h(3,"div",1),o(),s(4,"mat-dialog-actions")(5,"button",2),l(6),o(),s(7,"button",3),l(8),o()()),t&2&&(m(),y(e.data.title),m(2),d("innerHTML",e.data.content,Lt),m(3),y(e.data.confirmButtonText||"Cancelar"),m(),d("mat-dialog-close",!0),m(),k(" ",e.data.cancelButtonText||"Ok"," "))},dependencies:[D,Te,De,Ee,we],encapsulation:2,changeDetection:0})};var Pe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Ue(a,n){if(a&1){let t=R();s(0,"div",1)(1,"button",2),C("click",function(){A(t);let i=E();return B(i.action())}),l(2),o()()}if(a&2){let t=E();m(2),k(" ",t.data.action," ")}}var We=["label"];function Ze(a,n){}var Je=Math.pow(2,31)-1,Q=class{_overlayRef;instance;containerInstance;_afterDismissed=new x;_afterOpened=new x;_onAction=new x;_durationTimeoutId;_dismissedByAction=!1;constructor(n,t){this._overlayRef=t,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,Je))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Ne=new gt("MatSnackBarData"),S=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Xe=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275dir=F({type:a,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return a})(),Ke=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275dir=F({type:a,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return a})(),Ye=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275dir=F({type:a,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return a})(),ta=(()=>{class a{snackBarRef=u(Q);data=u(Ne);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),l(1),o(),p(2,Ue,3,1,"div",1)),e&2&&(m(),k(" ",i.data.message,`
`),m(),Vt(i.hasAction?2:-1))},dependencies:[D,Xe,Ke,Ye],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return a})(),Tt="_mat-snack-bar-enter",Dt="_mat-snack-bar-exit",ea=(()=>{class a extends he{_ngZone=u(Bt);_elementRef=u(J);_changeDetectorRef=u(zt);_platform=u(Xt);_rendersRef;_animationsDisabled=u(Ft,{optional:!0})==="NoopAnimations";snackBarConfig=u(S);_document=u(Ht);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new x;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new x;_onExit=new x;_onEnter=new x;_animationState="void";_live;_label;_role;_liveElementId=u(Yt).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Rt(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),e}attachTemplatePortal(t){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),e}attachDomPortal=t=>{this._assertNotAttached();let e=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),e};onAnimationEnd(t){t===Dt?this._completeExit():t===Tt&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(ht(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Tt)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Tt)},200)))}exit(){return this._destroyed?wt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(ht(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Dt)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Dt),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(c=>t.classList.add(c)):t.classList.add(e)),this._exposeToModals();let i=this._label.nativeElement,r="mdc-snackbar__label";i.classList.toggle(r,!i.querySelector(`.${r}`))}_exposeToModals(){let t=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<e.length;i++){let r=e[i],c=r.getAttribute("aria-owns");this._trackedModals.add(r),c?c.indexOf(t)===-1&&r.setAttribute("aria-owns",c+" "+t):r.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let e=t.getAttribute("aria-owns");if(e){let i=e.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,e=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(e&1&&(L(xt,7),L(We,7)),e&2){let r;O(r=P())&&(i._portalOutlet=r.first),O(r=P())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(e,i){e&1&&C("animationend",function(c){return i.onAnimationEnd(c.animationName)})("animationcancel",function(c){return i.onAnimationEnd(c.animationName)}),e&2&&jt("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[X],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){e&1&&(s(0,"div",1)(1,"div",2,0)(3,"div",3),p(4,Ze,0,0,"ng-template",4),o(),h(5,"div"),o()()),e&2&&(m(5),Nt("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[xt],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return a})();function aa(){return new S}var ia=new gt("mat-snack-bar-default-options",{providedIn:"root",factory:aa}),je=(()=>{class a{_overlay=u(ge);_live=u(Kt);_injector=u(Z);_breakpointObserver=u(Ct);_parentSnackBar=u(a,{optional:!0,skipSelf:!0});_defaultConfig=u(ia);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=ta;snackBarContainerComponent=ea;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",i){let r=I(I({},this._defaultConfig),i);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){let i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=Z.create({parent:i||this._injector,providers:[{provide:S,useValue:e}]}),c=new St(this.snackBarContainerComponent,e.viewContainerRef,r),f=t.attach(c);return f.instance.snackBarConfig=e,f.instance}_attach(t,e){let i=I(I(I({},new S),this._defaultConfig),e),r=this._createOverlay(i),c=this._attachSnackBarContainer(r,i),f=new Q(c,r);if(t instanceof Ot){let $=new fe(t,null,{$implicit:i.data,snackBarRef:f});f.instance=c.attachTemplatePortal($)}else{let $=this._createInjector(i,f),Ge=new St(t,void 0,$),Qe=c.attachComponentPortal(Ge);f.instance=Qe.instance}return this._breakpointObserver.observe(Pe.HandsetPortrait).pipe(It(r.detachments())).subscribe($=>{r.overlayElement.classList.toggle(this.handsetCssClass,$.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(f,i),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let e=new _e;e.direction=t.direction;let i=this._overlay.position().global(),r=t.direction==="rtl",c=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!r||t.horizontalPosition==="end"&&r,f=!c&&t.horizontalPosition!=="center";return c?i.left("0"):f?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),e.positionStrategy=i,this._overlay.create(e)}_createInjector(t,e){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Z.create({parent:i||this._injector,providers:[{provide:Q,useValue:e},{provide:Ne,useValue:t.data}]})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=W({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var V=class a{constructor(n){this.http=n}dialog=u(ye);_snackBar=u(je);HOJE=Date.now();url="api/tasks";getItems(n,t,e,i,r,c){var f=new Gt().set("pageIndex",n.pageIndex.toString()).set("pageSize",n.pageSize.toString()).set("sortColumn",t?t.active:e).set("sortOrder",t?t.direction:i);return c&&(f=f.set("filterColumn",r).set("filterQuery",c)),this.http.get(this.url,{params:f})}getById(n){return this.http.get(`${this.url}/${n}`)}create(n){return this.http.post(this.url,n)}update(n,t){return this.http.put(`${this.url}/${n}`,t)}delete(n){return this.http.delete(`${this.url}/${n}`)}getDialog(n,t,e){return this.dialog.open(pt,{data:{title:"Confirma\xE7\xE3o",content:`Voc\xEA tem certeza que deseja excluir a tarefa <b>${e.titulo}</b>?`,confirmButtonText:"Sim",cancelButtonText:"Cancelar"},width:"500px",enterAnimationDuration:n,exitAnimationDuration:t})}openSnackBarSucesso(n,t){let e=new S;e.duration=7e3,this._snackBar.open(n,t,e)}openSnackBarNotFound(n,t){let e=new S;e.duration=7e3,e.panelClass=["snackbar-not-found"],this._snackBar.open(n,t,e)}static \u0275fac=function(t){return new(t||a)(At(Qt))};static \u0275prov=W({token:a,factory:a.\u0275fac,providedIn:"root"})};var z=class a{constructor(n){this.el=n}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.focus()})}static \u0275fac=function(t){return new(t||a)(_(J))};static \u0275dir=F({type:a,selectors:[["","appAutofocus",""]],standalone:!1})};var H=class a{transform(n,t=10,e="..."){return n?n.length>t?n.substring(0,t)+e:n:""}static \u0275fac=function(t){return new(t||a)};static \u0275pipe=Pt({name:"truncar",type:a,pure:!0,standalone:!1})};var la=()=>[10,20,50],ca=()=>["/tasks","new"],$e=a=>["/tasks",a];function da(a,n){a&1&&h(0,"mat-progress-bar",21)}function pa(a,n){a&1&&(s(0,"button",22),l(1,` Criar nova tarefa
`),o()),a&2&&d("routerLink",G(1,ca))}function ua(a,n){a&1&&(s(0,"th",23),l(1,"ID"),o())}function fa(a,n){if(a&1&&(s(0,"td",24),l(1),o()),a&2){let t=n.$implicit;m(),y(t.id)}}function ha(a,n){a&1&&(s(0,"th",23),l(1,"T\xEDtulo"),o())}function _a(a,n){if(a&1&&(s(0,"td",24)(1,"a",25),l(2),N(3,"truncar"),o()()),a&2){let t=n.$implicit;m(),d("routerLink",bt(5,$e,t.id)),m(),y(j(3,2,t.titulo,20))}}function ga(a,n){a&1&&(s(0,"th",23),l(1,"Descri\xE7\xE3o"),o())}function ka(a,n){if(a&1&&(s(0,"td",24),l(1),N(2,"truncar"),o()),a&2){let t=n.$implicit;m(),y(j(2,1,t.descricao,20))}}function ba(a,n){a&1&&(s(0,"th",23),l(1,"Prazo"),o())}function va(a,n){if(a&1&&(s(0,"td",24),l(1),N(2,"date"),o()),a&2){let t=n.$implicit;m(),y(j(2,1,t.dataVencimento,"dd/MM/yyyy"))}}function Ca(a,n){a&1&&(s(0,"th",23),l(1,"Status"),o())}function Sa(a,n){a&1&&(b(0),s(1,"span",27),l(2,"Feita"),o(),v())}function xa(a,n){a&1&&(b(0),s(1,"span",28),l(2,"Atrasada"),o(),v())}function ya(a,n){a&1&&(s(0,"span",29),l(1,"Fazendo"),o())}function Ta(a,n){if(a&1&&p(0,xa,3,0,"ng-container",26)(1,ya,2,0,"ng-template",null,1,vt),a&2){let t=q(2),e=E().$implicit,i=E();d("ngIf",e.dataVencimento&&e.dataVencimento<i.HOJE)("ngIfElse",t)}}function Da(a,n){if(a&1&&(s(0,"td",24),p(1,Sa,3,0,"ng-container",26)(2,Ta,3,2,"ng-template",null,0,vt),o()),a&2){let t=n.$implicit,e=q(3);m(),d("ngIf",t.tarefaCompletada)("ngIfElse",e)}}function wa(a,n){a&1&&(s(0,"th",30),l(1,"A\xE7\xF5es"),o())}function Ea(a,n){if(a&1){let t=R();s(0,"td",24)(1,"button",31)(2,"mat-icon"),l(3,"edit"),o()(),s(4,"button",32),C("click",function(){let i=A(t).$implicit,r=E();return B(r.onDelete(i))}),s(5,"mat-icon"),l(6,"delete"),o()()()}if(a&2){let t=n.$implicit;m(),d("routerLink",bt(1,$e,t.id))}}function Ma(a,n){a&1&&h(0,"tr",33)}function Ia(a,n){a&1&&h(0,"tr",34)}var ut=class a{constructor(n){this.taskService=n}tasks;paginator;sort;filterForm;displayedColumns=["id","titulo","descricao","dataVencimento","tarefaCompletada","actions"];defaultFilterColumn="titulo";defaultSortColumn="titulo";defaultSortOrder="asc";HOJE=Date.now();filtro;ngOnInit(){this.filterForm=new nt({titulo:new M("")}),this.monitorarFiltro(),this.loadData()}monitorarFiltro(){this.filterForm.get("titulo")?.valueChanges.pipe(Et(1e3),Mt()).subscribe(n=>{this.loadData(n)})}loadData(n){var t=new ve;t.pageIndex=0,t.pageSize=10,this.filtro=n,this.getData(t)}getData(n){n&&this.taskService.getItems(n,this.sort,this.defaultSortColumn,this.defaultSortOrder,this.defaultFilterColumn,this.filtro).subscribe(t=>{console.log(t),this.paginator.length=t.total,this.paginator.pageIndex=t.pageIndex,this.paginator.pageSize=t.pageSize,this.tasks=new ce(t.items)})}onDelete(n){this.taskService.getDialog("0.2s","0.2s",n).afterClosed().subscribe(e=>{e!==void 0&&e!==!0&&this.taskService.delete(n.id).subscribe(i=>{this.taskService.openSnackBarSucesso(`Tarefa ${i.titulo} apagada com sucesso!`,"Fechar"),this.loadData(this.filtro)})})}static \u0275fac=function(t){return new(t||a)(_(V))};static \u0275cmp=g({type:a,selectors:[["app-task-list"]],viewQuery:function(t,e){if(t&1&&(L(mt,5),L(lt,5)),t&2){let i;O(i=P())&&(e.paginator=i.first),O(i=P())&&(e.sort=i.first)}},standalone:!1,decls:30,vars:14,consts:[["checkLate",""],["doing",""],["mode","indeterminate",4,"ngIf"],["mat-flat-button","","color","primary","class","btn-add",3,"routerLink",4,"ngIf"],[3,"formGroup"],["form","",3,"hidden"],["matInput","","appAutofocus","","formControlName","titulo","placeholder","Busque pelo T\xEDtulo da tarefa"],[2,"width","100%","max-width","100vw","overflow","auto"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource","hidden","matSortActive","matSortDirection"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","titulo"],["matColumnDef","descricao"],["matColumnDef","dataVencimento"],["matColumnDef","tarefaCompletada"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"page","hidden","pageSize","pageSizeOptions"],["mode","indeterminate"],["mat-flat-button","","color","primary",1,"btn-add",3,"routerLink"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],[4,"ngIf","ngIfElse"],[2,"color","green"],[2,"color","red"],[2,"color","orange"],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){t&1&&(p(0,da,1,0,"mat-progress-bar",2),s(1,"h1"),l(2,"Listagem de tarefas"),o(),p(3,pa,2,2,"button",3),s(4,"form",4)(5,"mat-form-field",5),h(6,"input",6),o()(),s(7,"div",7)(8,"table",8),C("matSortChange",function(){return e.loadData()}),b(9,9),p(10,ua,2,0,"th",10)(11,fa,2,1,"td",11),v(),b(12,12),p(13,ha,2,0,"th",10)(14,_a,4,7,"td",11),v(),b(15,13),p(16,ga,2,0,"th",10)(17,ka,3,4,"td",11),v(),b(18,14),p(19,ba,2,0,"th",10)(20,va,3,4,"td",11),v(),b(21,15),p(22,Ca,2,0,"th",10)(23,Da,4,2,"td",11),v(),b(24,16),p(25,wa,2,0,"th",17)(26,Ea,7,3,"td",11),v(),p(27,Ma,1,0,"tr",18)(28,Ia,1,0,"tr",19),o(),s(29,"mat-paginator",20),C("page",function(r){return e.getData(r)}),o()()),t&2&&(d("ngIf",!e.tasks),m(3),d("ngIf",e.tasks),m(),d("formGroup",e.filterForm),m(),d("hidden",!e.tasks),m(3),d("dataSource",e.tasks)("hidden",!e.tasks)("matSortActive",e.defaultSortColumn)("matSortDirection",e.defaultSortOrder),m(19),d("matHeaderRowDef",e.displayedColumns),m(),d("matRowDefColumns",e.displayedColumns),m(),d("hidden",!e.tasks)("pageSize",10)("pageSizeOptions",G(13,la)))},dependencies:[K,Y,rt,et,at,it,ot,st,z,D,be,Me,te,ae,oe,ie,ee,se,ne,re,me,le,mt,lt,Ce,ct,tt,dt,qt,H],styles:["table.mat-table[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.btn-add[_ngcontent-%COMP%]{float:right}"]})};var ft=class a{form;getErrors(n,t,e=null){var i=[];return Object.keys(n.errors||{}).forEach(r=>{switch(r){case"required":i.push(`${t} ${e?.[r]??"\xE9 obrigat\xF3rio."}`);break;case"pattern":i.push(`${t} ${e?.[r]??"possui caract\xE9res inv\xE1lidos."}`);break;case"minlength":let c=n.errors?.minlength?.requiredLength;i.push(`${t} ${e?.[r]??`deve ter pelo menos ${c} caracteres.`}`);break;case"maxlength":let f=n.errors?.maxlength?.requiredLength;i.push(`${t} ${e?.[r]??`deve ter no m\xE1ximo ${f} caracteres.`}`);break;default:i.push(`${t} \xE9 inv\xE1lido.`);break}}),i}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["ng-component"]],standalone:!1,decls:0,vars:0,template:function(t,e){},encapsulation:2})};var Aa=()=>["/tasks"];function Ba(a,n){a&1&&h(0,"mat-progress-bar",13)}function Fa(a,n){a&1&&(s(0,"span",14),l(1,"Atrasada"),o())}function Ra(a,n){if(a&1&&(s(0,"mat-error"),l(1),o()),a&2){let t=n.$implicit;m(),k(" ",t," ")}}function La(a,n){if(a&1&&(s(0,"mat-error"),l(1),o()),a&2){let t=n.$implicit;m(),k(" ",t," ")}}function Oa(a,n){if(a&1&&(s(0,"mat-error"),l(1),o()),a&2){let t=n.$implicit;m(),k(" ",t," ")}}var U=class a extends ft{constructor(t,e,i){super();this.activatedRoute=t;this.router=e;this.taskService=i}titulo;task;id;HOJE=Date.now();ngOnInit(){this.form=new nt({titulo:new M("",[T.required,T.minLength(3),T.maxLength(100)]),descricao:new M("",[T.required,T.minLength(3),T.maxLength(150)]),dataVencimento:new M("",T.required),tarefaCompletada:new M(!1)}),this.loadData()}loadData(){var t=this.activatedRoute?.snapshot?.paramMap?.get("id");this.id=t?+t:0,this.id?this.taskService.getById(this.id).subscribe({next:e=>{this.task=e,this.titulo="Editando - "+this.task.titulo,this.form.patchValue(this.task)},error:e=>this.handleError(e)}):this.titulo="Criando nova tarefa"}onSubmit(){var t=this.id?this.task:{};t&&(this.id?this.taskService.update(this.id,this.form.value).subscribe({next:e=>{this.taskService.openSnackBarSucesso(`Tarefa ${e.titulo} atualizada com sucesso!`,"Fechar"),this.router.navigate(["/tasks"])},error:e=>this.handleError(e)}):this.taskService.create(this.form.value).subscribe({next:e=>{this.taskService.openSnackBarSucesso("Tarefa criada com sucesso!","Fechar"),this.router.navigate(["/tasks"])},error:e=>this.handleError(e)}))}handleError(t){this.taskService.openSnackBarNotFound("statusText"in t?t.statusText:"Erro ao executar a\xE7\xE3o!","Fechar"),this.router.navigate(["/tasks"])}static \u0275fac=function(e){return new(e||a)(_(Wt),_(Zt),_(V))};static \u0275cmp=g({type:a,selectors:[["app-task-form"]],standalone:!1,features:[X],decls:32,vars:16,consts:[["picker",""],["mode","indeterminate",4,"ngIf"],[1,"task-edit"],["style","color: red;",4,"ngIf"],[3,"ngSubmit","formGroup"],["matInput","","appAutofocus","","formControlName","titulo","required","","placeholder","Digite um t\xEDtulo"],[4,"ngFor","ngForOf"],["matInput","","formControlName","descricao","required","","placeholder","Digite uma descri\xE7\xE3o"],["formControlName","dataVencimento","matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","tarefaCompletada"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-flat-button","","color","secondary",3,"routerLink"],["mode","indeterminate"],[2,"color","red"]],template:function(e,i){if(e&1){let r=R();p(0,Ba,1,0,"mat-progress-bar",1),s(1,"div",2)(2,"h1"),l(3),N(4,"truncar"),p(5,Fa,2,0,"span",3),o(),s(6,"form",4),C("ngSubmit",function(){return A(r),B(i.onSubmit())}),s(7,"mat-form-field")(8,"mat-label"),l(9,"Titulo:"),o(),h(10,"input",5),p(11,Ra,2,1,"mat-error",6),o(),s(12,"mat-form-field")(13,"mat-label"),l(14,"Descri\xE7\xE3o:"),o(),h(15,"textarea",7),p(16,La,2,1,"mat-error",6),o(),s(17,"mat-form-field")(18,"mat-label"),l(19,"Escolha uma data"),o(),h(20,"input",8)(21,"mat-datepicker-toggle",9)(22,"mat-datepicker",null,0),p(24,Oa,2,1,"mat-error",6),o(),s(25,"mat-slide-toggle",10),l(26,"Tarefa conclu\xEDda"),o(),s(27,"div")(28,"button",11),l(29),o(),s(30,"button",12),l(31," Cancelar "),o()()()()}if(e&2){let r,c=q(23);d("ngIf",i.id&&!i.task),m(3),k("",j(4,12,""+i.titulo,50)," "),m(2),d("ngIf",i.task&&!(!(i.form==null||(r=i.form.get("tarefaCompletada"))==null)&&r.value)&&(i.form==null||(r=i.form.get("dataVencimento"))==null?null:r.value)&&(i.form==null||(r=i.form.get("dataVencimento"))==null?null:r.value)<i.HOJE),m(),d("formGroup",i.form),m(5),d("ngForOf",i.getErrors(i.form.get("titulo"),"T\xEDtulo")),m(5),d("ngForOf",i.getErrors(i.form.get("descricao"),"Descri\xE7\xE3o")),m(4),d("matDatepicker",c),m(),d("for",c),m(3),d("ngForOf",i.getErrors(i.form.get("dataVencimento"),"Data de vencimento")),m(4),d("disabled",!i.form.valid),m(),k(" ",i.id?"Atualizar":"Criar"," "),m(),d("routerLink",G(15,Aa))}},dependencies:[$t,K,Y,rt,et,at,it,ke,ot,st,z,D,ct,tt,de,pe,ue,Ie,Ae,Be,Fe,dt,H],styles:["table.mat-table[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]})};var Pa=[{path:"",component:ut},{path:"new",component:U},{path:":id",component:U}],qe=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=kt({type:a});static \u0275inj=_t({imports:[Le,Re,Jt.forChild(Pa),Ut]})};export{qe as TasksModule};
